---
title: Allrecipes
date: 2025-09-16
week: 37
---

<Note>
  Week 37 • 16 September 2025
</Note>

[This week](https://github.com/rfordatascience/tidytuesday/blob/main/data/2025/2025-09-16/readme.md), [Allrecipes data](https://cran.r-project.org/package=tastyR) is on the menu.

Once again, there are a lot of interesting things to explore in this data. I thought I'd try looking at the prevalence of the two staples: rice and bread. My methodology is far from perfect, but I just tried to extract from the ingredients list either "rice" on the one hand, or "flour", "wheat", or "bread" on the other. (Of course, this doesn't even account for the many recipes that would just be paired with either rice or bread. If I had to guess, the combination of all sorts of things served with plain rice in East Asian cooking would account for the rice side maxing out below 50%.) Then I took a net of flour-based minus rice-based recipes, and normalized it over the total number recipes for each country/region. There aren't really any surprises in these numbers, so I don't think this approach was completely off base.

<Details title="Queries">

Taking a page from last week, once I'd done my exploration and settled on a query I went ahead and generated a static CSV:

```sql
copy (
  with parse_ingredients as (
       select *,
              ingredients like '%rice%' as has_rice,
              ingredients similar to '.*(flour|bread|wheat).*' as has_flour
         from 'https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-09-16/cuisines.csv'
  )

   select country,
          count_if(has_rice) as rice_recipes,
          count_if(has_flour) as flour_recipes,
          count(*) as all_recipes,
          (flour_recipes - rice_recipes)/all_recipes as net_flour_pct
     from parse_ingredients
 group by all
) to 'rice_vs_bread.csv'
```

```sql rice_vs_bread
from tidytuesday.rice_vs_bread
```

</Details>

<BarChart
    title="Staples"
    subtitle="Net percentage of flour/wheat- versus rice-based recipes"
    data={rice_vs_bread}
    x=country
    y=net_flour_pct
    yAxisLabels=false
    yGridlines=false
    yMin=-1
    yMax=1
    swapXY=true
>
  <ReferenceArea yMin='0' yMax='1' label=🥖 fontSize=48 color=warning labelPosition=bottomRight labelPadding=12/>
  <ReferenceArea yMin='-1' yMax='0' label=🍚 fontSize=48 labelPosition=topLeft labelPadding=12/>
</BarChart>

<Note>
Source: <Link label='tastyR package' url='https://cran.r-project.org/package=tastyR' />
</Note>
