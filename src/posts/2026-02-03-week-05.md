---
title: Edible Plants Database
date: 2026-02-03
published: 2026-02-04T13:54:32+05:30
week: 5
charts:
  energy:
    type: scatter
    title: Long-Term Investments
    subtitle: Energy value of edible plants compared to time and temperature required
    file: charts/2026-02-03/energy.csv
    x:
      title: Min. days to harvest
    y:
      title: Min. growing temperature (ºC)
      max: 20
    series:
      title: Water required
    size:
      title: Energy value (kcal per 100g raw)

  days_and_temps:
    type: scatter
    title: Long-Term Investments (for What Return?)
    subtitle: Time and temperature required for edible plants
    file: charts/2026-02-03/days_and_temps_only.csv
    x:
      title: Min. days to harvest
    y:
      title: Min. growing temperature (ºC)
      max: 30
    series:
      title: Water required
---

This week is exploring the Edible Plants Database. This is the first one this year with a decent amount of [quantitative data](https://sciencenotes.org/qualitative-quantitative-data-definitions-examples/), so I immediately went to scatter plots, trying different things on each axis. The inspiration hit when I started thinking about the relationship between energy going into a plant versus the energy coming out of it. In the end I landed on the time for a plant to grow, the minimum temperature it needs, and water requirements as proxies for energy being invested in a plant—with bubble size representing the return.

{% chart 'energy' %}

Only 12 of the plants in this dataset actually had energy values listed, so I also wanted to see all the plants on here, ignoring energy:

{% chart 'days_and_temps' %}

I hope those Brussels sprouts are worth it.

## Queries

My staging table involved a lot of turning non-numeric columns into numbers. And fixing the wildly inconsistent capitalization in the `water` column. There were several ranges I split up for exploration, but I only ended up using a couple of those columns in the final analysis.

```sql
 select * exclude(temperature_germination, temperature_growing, days_germination, days_harvest)  -- exclude the columns being split
        replace(
          try_cast(energy as numeric) as energy,  -- try_cast as numeric to get rid of junk like 'NA'
          upper(water[1])||lower(water[2:]) as water  -- I really wish DuckDB had initcap
        ),
        -- Get the first part of ranges for min
        -- Get the second part for max, or fall back to min
        -- try_cast all as numeric for the same reason as above
        try_cast(split_part(temperature_germination, '-', 1) as numeric) as temp_germ_min,
        try_cast(coalesce(nullif(split_part(temperature_germination, '-', 2), ''), temp_germ_min) as numeric) as temp_germ_max,
        try_cast(split_part(temperature_growing, '-', 1) as numeric) as temp_grow_min,
        try_cast(coalesce(nullif(split_part(temperature_growing, '-', 2), ''), temp_grow_min) as numeric) as temp_grow_max,
        try_cast(split_part(days_germination, '-', 1) as numeric) as days_germ_min,
        try_cast(coalesce(nullif(split_part(days_germination, '-', 2), ''), days_germ_min) as numeric) as days_germ_max,
        try_cast(split_part(days_harvest, '-', 1) as numeric) as days_harvest_min,
        try_cast(coalesce(nullif(split_part(days_harvest, '-', 2), ''), days_harvest_min) as numeric) as days_harvest_max,

  from "https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2026/2026-02-03/edible_plants.csv"
```

From there, the query to set up my chart was a pretty straightforward `select`, with a conditional in `order by` to sort the `water` series column the way I wanted.

```sql
   select common_name,
          days_harvest_min as x,
          temp_grow_min as y,
          energy as size,
          water as series

     from edible_plants
    where days_harvest_min is not null
      and energy is not null

 order by case water
               when 'Very high' then 1
               when 'High' then 2
               when 'Medium' then 3
               when 'Low' then 4
               when 'Very low' then 5
               end,
          x, y
```

The query for the second chart was just duplicated and tweaked, removing `energy as size` and filtering on `temp_grow_min` instead:

```sql
   select common_name,
          days_harvest_min as x,
          temp_grow_min as y,
          water as series

     from edible_plants
    where days_harvest_min is not null
      and temp_grow_min is not null

 order by case water
               when 'Very high' then 1
               when 'High' then 2
               when 'Medium' then 3
               when 'Low' then 4
               when 'Very low' then 5
               end,
          x, y
```

<style>
  :root {
    --chart-height: 20rem;
    --chart-width: var(--max-width);
    --chart-dot-size: 0.5rem;
    --chart-dot-size-min: 0.25rem;
    --chart-dot-size-max: 2rem;
  }

  .chart-series-very-high {
    --color: var(--chart-color-red);
  }

  .chart-series-high {
    --color: var(--chart-color-orange);
  }

  .chart-series-medium {
    --color: var(--chart-color-yellow);
  }

  .chart-series-low {
    --color: var(--chart-color-green);
  }

  .chart-series-very-low {
    --color: var(--chart-color-blue);
  }
</style>
