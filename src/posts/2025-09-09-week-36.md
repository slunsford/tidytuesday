---
title: Henley Passport Index
date: 2025-09-09
published: 2026-02-07T18:21:34+05:30
week: 36
charts:
  visa-requirements-japan:
    type: sankey
    title: Oyster Quotient
    subtitle: Visa requirements to and from Japan
    file: 2025-09-09/japan.csv
    alt: "Sankey diagram showing visa requirements to and from Japan. On the left, incoming flows show how other countries' passport holders can enter Japan: 121 require a visa, 73 have visa-free access, and 4 can apply online. On the right, outgoing flows show Japanese passport holders' access abroad: 140 destinations offer visa-free access, 36 visas on arrival, 20 require visas, 16 online visas, and 14 electronic travel authorization."
    image:
      width: 1000
      height: 560
  visa-requirements-north-korea:
    type: sankey
    title: Oyster Quotient
    subtitle: Visa requirements to and from North Korea
    file: 2025-09-09/north_korea.csv
    alt: "Sankey diagram showing visa requirements to and from North Korea. On the left, all 198 countries require visas for entering North Korea. On the right, North Korean passport holders face visa requirements in 147 countries, can apply online in 39, get visa on arrival in 27, have visa-free access to only 11 destinations, and electronic travel authorization in 2."
    image:
      width: 1000
      height: 560
  visa-requirements-russia:
    type: sankey
    title: Oyster Quotient
    subtitle: Visa requirements to and from Russia
    file: 2025-09-09/russia.csv
    alt: "Sankey diagram showing visa requirements to and from Russia. On the left, incoming flows show mixed requirements: 71 countries require visas for Russia, 64 can apply online, 61 need electronic travel authorization, and only 2 have visa-free access. On the right, Russian passport holders need visas for 95 countries, have visa-free access to 79, visa on arrival in 28, online visa in 17, and electronic authorization in 7. Russia offers more digital visa options to visitors than visa-free entry."
    image:
      width: 1000
      height: 560
  visa-requirements-singapore:
    type: sankey
    title: Oyster Quotient
    subtitle: Visa requirements to and from Singapore
    file: 2025-09-09/singapore.csv
    alt: "Sankey diagram showing visa requirements to and from Singapore. On the left, incoming flows show Singapore is highly accessible: 164 countries have visa-free access and 34 can apply online. On the right, Singaporean passport holders enjoy visa-free access to 154 countries, visa on arrival in 27, visas required in 19, online visa in 14, and electronic authorization in 12."
    image:
      width: 1000
      height: 560
  visa-requirements-united-states:
    type: sankey
    title: Oyster Quotient
    subtitle: Visa requirements to and from the United States
    file: 2025-09-09/united_states.csv
    alt: "Sankey diagram showing visa requirements to and from the United States. On the left, incoming flows show 152 countries require visas for the US, 42 need electronic travel authorization (ESTA), and only 4 have visa-free access. On the right, US passport holders enjoy visa-free access to 136 countries, visa on arrival in 36, visas required in 24, online visas in 20, and electronic authorization in 10."
    image:
      width: 1000
      height: 560
---

***Note:** This is the first post I'm porting [from my old site](https://tidytuesday2025.seanlunsford.com/2025-09-09/), in February 2026. I don't have interactive filters available on this new site (yet), so instead I manually ran this for a selection of countries that made for interesting comparisons.*

This week we're looking at the [Henley Passport Index](https://www.henleyglobal.com/passport-index/about), which scores passports based on their visa-free access to other countries. The provided datasets included both historical scores for each country, as well as visa requirements for each passport country to each destination. Of course, I'm personally really interested in this kind of data, and there were a lot of directions I would've liked to go with it.

In the end, I thought it would be interesting to see the juxtaposition of what kind of access was granted to a given passport next to what that same country required of other passport holders. I also thought the Sankey flow diagram made for an interesting visual representation.

{% chart 'visa-requirements-united-states' %}
{% chart 'visa-requirements-japan' %}
{% chart 'visa-requirements-singapore' %}
{% chart 'visa-requirements-russia' %}
{% chart 'visa-requirements-north-korea' %}

The world isnâ€™t *everyone's* oyster.

## Queries

What I said on my old site about live queries no longer applies here. Now I am generating a CSV for each chart. That said, the actual queries I used didn't change much. I started by unpivoting and unnesting the JSON:

```sql
with

unpivoted as (
  unpivot 'https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-09-09/country_lists.csv'
       on columns(* exclude (code, country)) into
     name visa_requirement
    value countries
),

unnested as (
   select country,
          visa_requirement,
          unnest(from_json(countries, '[[{"code":"VARCHAR","name":"VARCHAR"}]]'), recursive := true)

     from unpivoted
),

renamed as (
   select country as passport,
          name as destination,
          case visa_requirement
               when 'visa_required' then 'Visa Required'
               when 'visa_online' then 'Online Visa'
               when 'visa_on_arrival' then 'Visa on Arrival'
               when 'visa_free_access' then 'Visa-Free Access'
               when 'electronic_travel_authorisation' then 'Electronic Travel Authorization'
                end as visa_requirement

     from unnested
)

from renamed
```

I used pretty much the same query for each country's CSV as I had running live on the old site, minus the templating to use the dropdown value. (I think of all chart types, the format for the tabular data is actually most similar between [Uncharted](https://uncharted.seanlunsford.com/chart-types/#sankey-charts) and [Evidence](https://docs.evidence.studio/components/sankey_chart) for the Sankey diagram.)

```sql
 select 'ðŸ›¬ ' || visa_requirement as source,
        destination as target,
        count(*) as count
   from visa_requirements_unpivoted
  where destination = 'United States'
  group by all

  union all

 select passport as source,
        'ðŸ›« ' || visa_requirement as target,
        count(*) as count
   from visa_requirements_unpivoted
  where passport = 'United States'
  group by all

  order by count desc
```
